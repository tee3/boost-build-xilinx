# Copyright 2019 Thomas Brown
# Distributed under the Boost Software License, Version 1.0. (See
# accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

import xsdk ;

project
  : requirements
    <instruction-set>cortex-a9:<toolset>gcc-xsdkaarch32
    <instruction-set>cortex-a9+vfpv3:<toolset>gcc-xsdkaarch32
    <instruction-set>cortex-a53:<toolset>gcc-xsdkaarch64
    <instruction-set>cortex-r5:<toolset>gcc-xsdkarmr5
    <instruction-set>cortex-r5+vfpv3-d16:<toolset>gcc-xsdkarmr5
    <instruction-set>microblaze:<toolset>gcc-xsdkmicroblaze
  ;

using xsdk ;

local xsdk-root = [ xsdk.root ] ;

if $(xsdk-root)
{
  using gcc : xsdkaarch32 : $(xsdk-root)/gnu/aarch32/lin/gcc-arm-none-eabi/bin/arm-none-eabi-g++ ;
  using gcc : xsdkaarch64 : $(xsdk-root)/gnu/aarch64/lin/aarch64-none/bin/aarch64-none-elf-g++ ;
  using gcc : xsdkarmr5 : $(xsdk-root)/gnu/armr5/lin/gcc-arm-none-eabi/bin/armr5-none-eabi-g++ ;
  using gcc : xsdkmicroblaze : $(xsdk-root)/gnu/microblaze/lin/bin/microblaze-xilinx-elf-g++ ;
}
else
{
  using gcc : xsdkaarch32 : /usr/local/arm/gcc-arm-none-eabi-7-2018-q2-update/bin/arm-none-eabi-g++ ;
  using gcc : xsdkaarch64 : /usr/local/arm/gcc-arm-none-eabi-7-2018-q2-update/bin/arm-none-eabi-g++ ;
  using gcc : xsdkarmr5 : /usr/local/arm/gcc-arm-none-eabi-7-2018-q2-update/bin/arm-none-eabi-g++ ;
  # using gcc : xsdkmicroblaze : $(xsdk-root)/gnu/microblaze/lin/bin/microblaze-xilinx-elf-g++ ;
}
