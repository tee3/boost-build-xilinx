# Copyright 2019 Thomas Brown
# Distributed under the Boost Software License, Version 1.0. (See
# accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

project
  : default-build
    <target-os>elf
    <target-os>freertos

    <architecture>arm

    # @todo Xilinx cortex-a9 boot.S requires vfpv3
    # <instruction-set>cortex-a9
    <instruction-set>cortex-a9+vfpv3

    <xsdk-processor-id>0
    <xsdk-processor-id>1
  : requirements
    <link>static
  ;

# @todo for now this must be explicit
explicit ws ;
xsdkws ws
  : # sources
    $(zc702-hdf)
  : # requirements
  : # default-build
  : # usage-requirements
    <linkflags>"-Wl,-T -Wl,lscript.ld"
  ;

exe empty_c
  : # sources
    empty_c.c
  : # requirements
    <dependency>ws
  ;

exe empty_cpp
  : # sources
    empty_cpp.cpp
  : # requirements
    <dependency>ws

    <linkflags>"-Wl,--start-group -Wl,-lstdc++ -Wl,--end-group"
  ;
